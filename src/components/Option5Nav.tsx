import React, { useState } from 'react';
import './ExpandedSideNav.css';

interface NavItem {
  id: string;
  label: string;
  icon: React.ReactNode;
  hasChevron?: boolean;
  isDropdown?: boolean;
  subItems?: NavItem[];
}

interface NavCategory {
  title: string;
  items: NavItem[];
}

const Option5Nav: React.FC = () => {
  const [isNooksDropdownOpen, setIsNooksDropdownOpen] = useState(false);
  const [expandedSections, setExpandedSections] = useState<Set<string>>(new Set());
  const [selectedWorkspace, setSelectedWorkspace] = useState('Nooks');
  const [isSidebarCollapsed, setIsSidebarCollapsed] = useState(false);
  const [isSettingsActive, setIsSettingsActive] = useState(false);

  // Standalone Home item (no category header)
  const homeItem: NavItem = {
    id: 'home',
    label: 'Home',
    icon: (
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"></path>
        <polyline points="9,22 9,12 15,12 15,22" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"></polyline>
      </svg>
    )
  };

  const workspaces = [
    'Nooks',
    'Hubspot',
    'AIP Dev Workspace',
    'blink',
    'Deel',
    'Fivetran Inc',
    'isolved'
  ];

  const toggleSection = (sectionId: string) => {
    const newExpanded = new Set(expandedSections);
    if (newExpanded.has(sectionId)) {
      newExpanded.delete(sectionId);
    } else {
      newExpanded.add(sectionId);
    }
    setExpandedSections(newExpanded);
  };

  // Option 5: New navigation structure with Prospect first and restructured Engage
  const navigationData: NavCategory[] = [
    {
      title: 'Call',
      items: [
        {
          id: 'salesfloor',
          label: 'Salesfloor',
          icon: (
            <svg width="20" height="20" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M14.9852 3.37788C14.8821 3.33364 14.7687 3.32206 14.6592 3.34459C14.5497 3.36712 14.4492 3.42276 14.3704 3.50445L11.3846 6.59185V3.91684C11.3846 3.76214 11.3251 3.61378 11.2194 3.50439C11.1136 3.395 10.9701 3.33355 10.8205 3.33355H1.23073C1.08112 3.33355 0.937638 3.395 0.831848 3.50439C0.726058 3.61378 0.666626 3.76214 0.666626 3.91684V12.083C0.666626 12.2377 0.726058 12.3861 0.831848 12.4955C0.937638 12.6049 1.08112 12.6663 1.23073 12.6663H10.8205C10.9701 12.6663 11.1136 12.6049 11.2194 12.4955C11.3251 12.3861 11.3846 12.2377 11.3846 12.083V9.40801L14.3704 12.4954C14.4492 12.5772 14.5497 12.6328 14.6592 12.6554C14.7687 12.6779 14.8822 12.6663 14.9852 12.622C15.0883 12.5778 15.1764 12.503 15.2383 12.4071C15.3003 12.3111 15.3333 12.1984 15.3333 12.083V3.91684C15.3333 3.80149 15.3003 3.68871 15.2383 3.59278C15.1764 3.49684 15.0883 3.42206 14.9852 3.37788V3.37788ZM10.2564 11.4997H1.79483V4.50014H10.2564V11.4997ZM14.2051 10.6749L11.6181 7.99993L14.2051 5.32522V10.6749Z" fill="currentColor"/>
            </svg>
          )
        },
        {
          id: 'dial',
          label: 'Dial',
          icon: (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M3 5C3 3.89543 3.89543 3 5 3H8.27924C8.70967 3 9.09181 3.27543 9.22792 3.68377L10.7257 8.17721C10.8831 8.64932 10.6694 9.16531 10.2243 9.38787L7.96701 10.5165C9.06925 12.9612 11.0388 14.9308 13.4835 16.033L14.6121 13.7757C14.8347 13.3306 15.3507 13.1169 15.8228 13.2743L20.3162 14.7721C20.7246 14.9082 21 15.2903 21 15.7208V19C21 20.1046 20.1046 21 19 21H18C9.71573 21 3 14.2843 3 6V5Z" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
            </svg>
          )
        },
        {
          id: 'call-library',
          label: 'Call library',
          icon: (
            <svg width="20" height="20" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12.2498 1.33496C12.7045 1.37215 13.1257 1.58423 13.4226 1.9248C13.7156 2.26093 13.864 2.69541 13.8367 3.13672V11.6211L13.8279 11.7109C13.7856 11.9149 13.6016 12.0684 13.3816 12.0684H12.9265V13.8574H13.3816C13.6329 13.8574 13.8366 14.0577 13.8367 14.3047C13.8367 14.5517 13.633 14.752 13.3816 14.752H3.82397L3.64429 14.7432C3.22736 14.7026 2.83571 14.5212 2.53687 14.2275C2.23813 13.9339 2.05382 13.5492 2.01245 13.1396L2.00366 12.9629V3.13672C1.97633 2.69555 2.12397 2.26089 2.41675 1.9248C2.71364 1.58422 3.1358 1.37213 3.59058 1.33496C3.60292 1.33396 3.6153 1.33302 3.62769 1.33301H12.2117C12.2243 1.33301 12.2372 1.33394 12.2498 1.33496ZM3.73413 12.0723C3.52574 12.0925 3.32984 12.1834 3.18042 12.3301C3.00971 12.4978 2.91382 12.7256 2.91382 12.9629C2.91382 13.2001 3.00971 13.4279 3.18042 13.5957C3.3511 13.7633 3.58269 13.8574 3.82397 13.8574H12.0164V12.0684H3.82397L3.73413 12.0723ZM3.64917 2.22754C3.43955 2.24891 3.24554 2.34923 3.10815 2.50684C2.96732 2.66859 2.89745 2.87846 2.91284 3.09082C2.91359 3.10121 2.91381 3.11165 2.91382 3.12207V11.415C3.18833 11.2592 3.50145 11.1738 3.82397 11.1738H12.9265V3.12207C12.9265 3.11165 12.9267 3.10122 12.9275 3.09082C12.9429 2.87831 12.8722 2.66864 12.7312 2.50684C12.5938 2.34925 12.4007 2.24894 12.1912 2.22754H3.64917ZM6.99878 3.70117C7.25308 3.70117 7.45972 3.90781 7.45972 4.16211V5.02246C7.45972 5.28257 7.35653 5.53287 7.17261 5.7168C6.98877 5.90055 6.73917 6.00382 6.47925 6.00391H6.11987C6.21497 6.56549 6.47937 7.08899 6.88745 7.49707C7.29557 7.90511 7.81902 8.16863 8.38062 8.26367V7.90527C8.38062 7.64523 8.48389 7.39583 8.66772 7.21191C8.85159 7.02805 9.10106 6.92487 9.36108 6.9248H10.2224C10.4766 6.92483 10.6823 7.13055 10.6824 7.38477V7.7207C10.6824 8.12003 10.5243 8.50377 10.2419 8.78613C9.95967 9.06832 9.57662 9.22647 9.17749 9.22656H8.84058C7.86379 9.22644 6.92678 8.83816 6.23608 8.14746C5.54547 7.45669 5.15698 6.51977 5.15698 5.54297V5.20703C5.15698 4.80778 5.31612 4.42493 5.59839 4.14258C5.88069 3.86028 6.26361 3.70124 6.66284 3.70117H6.99878Z" fill="currentColor"/>
            </svg>
          )
        },
        {
          id: 'reporting',
          label: 'Reporting',
          icon: (
            <svg width="20" height="20" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fillRule="evenodd" clipRule="evenodd" d="M12.127 2.60309H3.87306C3.17174 2.60309 2.60322 3.17162 2.60322 3.87293V12.1269C2.60322 12.8282 3.17174 13.3967 3.87306 13.3967H12.127C12.8283 13.3967 13.3969 12.8282 13.3969 12.1269V3.87293C13.3969 3.17162 12.8283 2.60309 12.127 2.60309ZM3.87306 1.33325C2.47043 1.33325 1.33337 2.47031 1.33337 3.87293V12.1269C1.33337 13.5295 2.47043 14.6666 3.87306 14.6666H12.127C13.5297 14.6666 14.6667 13.5295 14.6667 12.1269V3.87293C14.6667 2.47031 13.5297 1.33325 12.127 1.33325H3.87306Z" fill="currentColor"/>
              <path d="M7.33337 5.33325C7.33337 4.96506 7.63185 4.66659 8.00004 4.66659C8.36823 4.66659 8.66671 4.96506 8.66671 5.33325V10.6666C8.66671 11.0348 8.36823 11.3333 8.00004 11.3333C7.63185 11.3333 7.33337 11.0348 7.33337 10.6666V5.33325Z" fill="currentColor"/>
              <path d="M4.66671 7.33325C4.66671 6.96506 4.96518 6.66659 5.33337 6.66659C5.70156 6.66659 6.00004 6.96506 6.00004 7.33325V10.6666C6.00004 11.0348 5.70156 11.3333 5.33337 11.3333C4.96518 11.3333 4.66671 11.0348 4.66671 10.6666V7.33325Z" fill="currentColor"/>
              <path d="M10.6667 7.99992C10.2985 7.99992 10 8.2984 10 8.66659V10.6666C10 11.0348 10.2985 11.3333 10.6667 11.3333C11.0349 11.3333 11.3334 11.0348 11.3334 10.6666V8.66659C11.3334 8.2984 11.0349 7.99992 10.6667 7.99992Z" fill="currentColor"/>
            </svg>
          )
        },
        {
          id: 'coach',
          label: 'Coach',
          icon: (
            <svg width="20" height="20" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M14.6187 7.73804C14.484 7.41271 14.1953 7.33471 14 7.31604V5.33337C14 4.59804 13.402 4.00004 12.6667 4.00004H8.66666V3.07337C8.86999 2.89071 8.99999 2.62804 8.99999 2.33337C8.99999 2.06816 8.89464 1.8138 8.7071 1.62627C8.51956 1.43873 8.26521 1.33337 7.99999 1.33337C7.73478 1.33337 7.48042 1.43873 7.29289 1.62627C7.10535 1.8138 6.99999 2.06816 6.99999 2.33337C6.99999 2.62804 7.12999 2.89071 7.33333 3.07337V4.00004H3.33333C2.59799 4.00004 1.99999 4.59804 1.99999 5.33337V7.33137L1.94533 7.33537C1.77731 7.3475 1.62011 7.42279 1.50534 7.5461C1.39057 7.6694 1.32673 7.83159 1.32666 8.00004V9.33337C1.32666 9.51019 1.3969 9.67975 1.52192 9.80478C1.64695 9.9298 1.81652 10 1.99333 10H1.99999V13.3334C1.99999 14.0687 2.59799 14.6667 3.33333 14.6667H12.6667C13.402 14.6667 14 14.0687 14 13.3334V10C14.1768 10 14.3464 9.9298 14.4714 9.80478C14.5964 9.67975 14.6667 9.51019 14.6667 9.33337V8.04137C14.6745 7.93791 14.658 7.83404 14.6187 7.73804ZM3.33333 13.3334V5.33337H12.6667L12.6673 7.99737L12.6667 8.00004V9.33337L12.6673 9.33671L12.668 13.3334H3.33333Z" fill="currentColor"/>
              <path d="M5.66663 9.33329C6.21891 9.33329 6.66663 8.73634 6.66663 7.99996C6.66663 7.26358 6.21891 6.66663 5.66663 6.66663C5.11434 6.66663 4.66663 7.26358 4.66663 7.99996C4.66663 8.73634 5.11434 9.33329 5.66663 9.33329Z" fill="currentColor"/>
              <path d="M10.3334 9.33329C10.8857 9.33329 11.3334 8.73634 11.3334 7.99996C11.3334 7.26358 10.8857 6.66663 10.3334 6.66663C9.78109 6.66663 9.33337 7.26358 9.33337 7.99996C9.33337 8.73634 9.78109 9.33329 10.3334 9.33329Z" fill="currentColor"/>
              <path d="M5.33337 10.6666H10.6667V12H5.33337V10.6666Z" fill="currentColor"/>
            </svg>
          ),
          hasChevron: true,
          isDropdown: true,
          subItems: [
            {
              id: 'ai-roleplay',
              label: 'AI roleplay',
              icon: (
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <g clipPath="url(#clip0_38_1117)">
                    <path d="M13.8086 4.75199L13.6446 5.12932C13.619 5.19077 13.5758 5.24325 13.5203 5.28017C13.4649 5.31709 13.3999 5.33679 13.3333 5.33679C13.2667 5.33679 13.2016 5.31709 13.1462 5.28017C13.0908 5.24325 13.0476 5.19077 13.022 5.12932L12.858 4.75199C12.5696 4.08447 12.0415 3.54927 11.378 3.25199L10.872 3.02599C10.8106 2.99775 10.7586 2.9525 10.7221 2.89561C10.6857 2.83871 10.6663 2.77256 10.6663 2.70499C10.6663 2.63742 10.6857 2.57126 10.7221 2.51437C10.7586 2.45748 10.8106 2.41223 10.872 2.38399L11.35 2.17132C12.0302 1.86557 12.5673 1.31058 12.8506 0.620655L13.02 0.213322C13.0447 0.150224 13.0879 0.0960537 13.1439 0.0578717C13.2 0.0196897 13.2662 -0.000732422 13.334 -0.000732422C13.4017 -0.000732422 13.468 0.0196897 13.524 0.0578717C13.58 0.0960537 13.6232 0.150224 13.648 0.213322L13.8166 0.619988C14.0996 1.31004 14.6365 1.86528 15.3166 2.17132L15.7953 2.38465C15.8565 2.41297 15.9083 2.45822 15.9446 2.51504C15.9809 2.57186 16.0002 2.63789 16.0002 2.70532C16.0002 2.77276 15.9809 2.83878 15.9446 2.89561C15.9083 2.95243 15.8565 2.99767 15.7953 3.02599L15.2886 3.25132C14.6252 3.5489 14.0973 4.08434 13.8093 4.75199M5.99995 1.33332C7.29507 1.33312 8.54601 1.80419 9.5193 2.65861C10.4926 3.51303 11.1217 4.69242 11.2893 5.97666L12.7893 8.33599C12.888 8.49132 12.868 8.72266 12.6393 8.82132L11.3333 9.37999V11.3333C11.3333 11.6869 11.1928 12.0261 10.9428 12.2761C10.6927 12.5262 10.3536 12.6667 9.99995 12.6667H8.66729L8.66662 14.6667H2.66662V12.204C2.66662 11.4173 2.37595 10.6727 1.83729 10.0007C1.20912 9.21634 0.815316 8.27051 0.701234 7.27215C0.587151 6.27379 0.757436 5.26351 1.19247 4.3577C1.6275 3.45189 2.30958 2.68741 3.16013 2.15233C4.01068 1.61725 4.99509 1.33335 5.99995 1.33332ZM5.99995 2.66665C5.24634 2.66662 4.50805 2.87949 3.87013 3.28072C3.23221 3.68195 2.72061 4.25524 2.39427 4.93453C2.06793 5.61382 1.94013 6.37148 2.02559 7.12023C2.11104 7.86899 2.40628 8.57837 2.87729 9.16666C3.60662 10.076 3.99995 11.1113 3.99995 12.204V13.3333H7.33329L7.33462 11.3333H9.99995V8.50132L11.0333 8.05866L10.0046 6.44199L9.96662 6.14732C9.84055 5.18454 9.36857 4.30048 8.63871 3.66004C7.90885 3.01961 6.97096 2.66653 5.99995 2.66665ZM12.9933 11.3287L14.1026 12.0687C14.9074 10.8645 15.3357 9.44826 15.3333 7.99999C15.3328 7.54443 15.2926 7.09999 15.2126 6.66666L13.9173 6.99999C13.972 7.32577 13.9995 7.6591 14 7.99999C14.002 9.18483 13.6515 10.3435 12.9933 11.3287Z" fill="#161616"/>
                  </g>
                  <defs>
                    <clipPath id="clip0_38_1117">
                      <rect width="16" height="16" fill="white"/>
                    </clipPath>
                  </defs>
                </svg>
              )
            },
            {
              id: 'battlecards',
              label: 'Battlecards',
              icon: (
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M8.46216 6.46355C8.29079 6.04845 7.7092 6.04845 7.53783 6.46355L6.92358 7.9514L5.30367 8.1731C4.86951 8.23251 4.71476 8.78718 5.0542 9.06726L6.30182 10.0967L5.90196 11.8441C5.79841 12.2966 6.30163 12.6395 6.6776 12.3727L7.99999 11.4342L9.32238 12.3727C9.69835 12.6395 10.2016 12.2965 10.098 11.844L9.69813 10.0967L10.9458 9.06727C11.2852 8.78718 11.1305 8.23251 10.6963 8.17309L9.07641 7.9514L8.46216 6.46355Z" fill="#161616"/>
                  <path fillRule="evenodd" clipRule="evenodd" d="M6.42432 2.60758H4.3684C3.06037 2.60758 2 3.67977 2 5.00238V12.2718C2 13.5945 3.06037 14.6666 4.3684 14.6666H11.6316C12.9396 14.6666 14 13.5945 14 12.2718V5.00238C14 3.67977 12.9396 2.60758 11.6316 2.60758H9.57574V3.0035C9.57574 3.88345 8.87027 4.59678 8.00003 4.59678C7.12979 4.59678 6.42432 3.88345 6.42432 3.0035V2.60758ZM8.3164 5.72914C9.35749 5.72914 10.3536 4.76634 10.6327 3.80498H11.6316C12.2856 3.80498 12.8158 4.34108 12.8158 5.00238V12.2718C12.8158 12.9332 12.2856 13.4692 11.6316 13.4692H4.3684C3.71438 13.4692 3.1842 12.9332 3.1842 12.2718V5.00238C3.1842 4.34108 3.71438 3.80498 4.3684 3.80498H5.41148C5.69064 4.76634 6.70378 5.72914 7.74486 5.72914L8.00005 5.80605L8.3164 5.72914Z" fill="#161616"/>
                  <path d="M8.46216 6.46355C8.29079 6.04845 7.7092 6.04845 7.53783 6.46355L6.92358 7.9514L5.30367 8.1731C4.86951 8.23251 4.71476 8.78718 5.0552 9.06726L6.30182 10.0967L5.90196 11.8441C5.79841 12.2966 6.30163 12.6395 6.6776 12.3727L7.99999 11.4342L9.32238 12.3727C9.69835 12.6395 10.2016 12.2965 10.098 11.844L9.69813 10.0967L10.9458 9.06727C11.2852 8.78718 11.1305 8.23251 10.6963 8.17309L9.07641 7.9514L8.46216 6.46355Z" fill="#161616"/>
                  <path fillRule="evenodd" clipRule="evenodd" d="M6.42432 2.60758H4.3684C3.06037 2.60758 2 3.67977 2 5.00238V12.2718C2 13.5945 3.06037 14.6666 4.3684 14.6666H11.6316C12.9396 14.6666 14 13.5945 14 12.2718V5.00238C14 3.67977 12.9396 2.60758 11.6316 2.60758H9.57574V3.0035C9.57574 3.88345 8.87027 4.59678 8.00003 4.59678C7.12979 4.59678 6.42432 3.88345 6.42432 3.0035V2.60758ZM8.3164 5.72914C9.35749 5.72914 10.3536 4.76634 10.6327 3.80498H11.6316C12.2856 3.80498 12.8158 4.34108 12.8158 5.00238V12.2718C12.8158 12.9332 12.2856 13.4692 11.6316 13.4692H4.3684C3.71438 13.4692 3.1842 12.9332 3.1842 12.2718V5.00238C3.1842 4.34108 3.71438 3.80498 4.3684 3.80498H5.41148C5.69064 4.76634 6.70378 5.72914 7.74486 5.72914L8.00005 5.80605L8.3164 5.72914Z" fill="#161616"/>
                  <path d="M6.42432 2.60893H5.27425V3.09926C5.27425 4.59418 6.49463 5.80605 8.00005 5.80605C9.50547 5.80605 10.7259 4.59418 10.7259 3.09926V2.60893H9.57574L9.57574 3.0035C9.57574 3.88345 8.87027 4.59678 8.00003 4.59678C7.12979 4.59678 6.42432 3.88345 6.42432 3.0035V2.60893Z" fill="#161616"/>
                  <path d="M6.96958 1.45092C6.96958 0.875465 7.43093 0.408966 8.00004 0.408966C8.56915 0.408966 9.03051 0.875465 9.03051 1.45092V3.00209C9.03051 3.57755 8.56915 4.04405 8.00004 4.04405C7.43093 4.04405 6.96958 3.57755 6.96958 3.00209V1.45092Z" fill="#161616"/>
                  <path d="M6.96958 1.45092C6.96958 0.875465 7.43093 0.408966 8.00004 0.408966C8.56915 0.408966 9.03051 0.875465 9.03051 1.45092V3.00209C9.03051 3.57755 8.56915 4.04405 8.00004 4.04405C7.43093 4.04405 6.96958 3.57755 6.96958 3.00209V1.45092Z" fill="#161616"/>
                </svg>
              )
                         }
           ]
        }
      ]
    },
    {
      title: 'Prospect',
      items: [
        {
          id: 'accounts',
          label: 'Accounts',
          icon: (
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M10.3333 8.26694C10.7015 8.26694 11 8.56541 11 8.9336C10.9998 9.30168 10.7014 9.60027 10.3333 9.60027H5.99997C5.63186 9.60027 5.33343 9.30168 5.3333 8.9336C5.3333 8.56541 5.63178 8.26694 5.99997 8.26694H10.3333Z" fill="currentColor"/>
              <path d="M10.3333 5.80014C10.7015 5.80014 11 6.09862 11 6.46681C10.9999 6.83492 10.7014 7.13347 10.3333 7.13347H7.99997C7.63183 7.13347 7.33339 6.83492 7.3333 6.46681C7.3333 6.09862 7.63178 5.80014 7.99997 5.80014H10.3333Z" fill="currentColor"/>
              <path d="M10.3333 3.33334C10.7015 3.33334 11 3.63182 11 4.00001C11 4.3682 10.7015 4.66668 10.3333 4.66668H7.99997C7.63178 4.66668 7.3333 4.3682 7.3333 4.00001C7.3333 3.63182 7.63178 3.33334 7.99997 3.33334L10.3333 3.33334Z" fill="currentColor"/>
              <path fill-rule="evenodd" clip-rule="evenodd" d="M11.8333 1.33334C12.2311 1.33334 12.6125 1.49152 12.8938 1.7728C13.1751 2.05408 13.3333 2.43555 13.3333 2.83334V14.1667C13.3333 14.2993 13.2806 14.4264 13.1868 14.5202C13.093 14.614 12.9659 14.6667 12.8333 14.6667H3.16663C3.03403 14.6667 2.90689 14.614 2.81312 14.5202C2.71938 14.4264 2.66663 14.2993 2.66663 14.1667L2.66663 7.83334C2.66664 7.63639 2.70519 7.44109 2.78057 7.25912C2.85595 7.07719 2.96684 6.91205 3.10609 6.7728C3.2453 6.6336 3.41055 6.5233 3.59241 6.44793C3.7744 6.37254 3.96965 6.33334 4.16663 6.33334H4.99997V2.83334C4.99999 2.43555 5.15813 2.05408 5.43942 1.7728C5.72072 1.49152 6.10216 1.33334 6.49997 1.33334L11.8333 1.33334ZM6.49997 2.33334C6.36738 2.33334 6.24022 2.38608 6.14645 2.47983C6.0527 2.57358 5.99999 2.70076 5.99997 2.83334V6.83334C5.99997 6.96593 5.94723 7.09309 5.85348 7.18686C5.75971 7.28063 5.63258 7.33334 5.49997 7.33334H4.16663C4.03405 7.33334 3.90688 7.38609 3.81312 7.47983C3.71937 7.57358 3.66666 7.70076 3.66663 7.83334L3.66663 13.6667H4.99997L4.99997 11.8333C5.00001 11.3734 5.37333 11 5.8333 11H10.1666C10.6266 11 10.9999 11.3734 11 11.8333V13.6667H12.3333V2.83334C12.3333 2.70076 12.2806 2.57358 12.1868 2.47983C12.0931 2.38609 11.9659 2.33334 11.8333 2.33334L6.49997 2.33334ZM5.99997 12L5.99997 13.6667H7.49997V12H5.99997ZM8.49997 12V13.6667H9.99997V12H8.49997Z" fill="currentColor"/>
            </svg>
          )
        },
        {
          id: 'prospects',
          label: 'Prospects',
          icon: (
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M8.04663 11.31C6.61188 11.31 5.25239 11.6288 4.322 11.916C3.78944 12.0804 3.39809 12.5627 3.30232 13.1783L3.20226 13.8215C3.15094 14.1515 2.84183 14.3774 2.51186 14.3261C2.18189 14.2747 1.95601 13.9656 2.00734 13.6357L2.10739 12.9925C2.26385 11.9867 2.92987 11.0801 3.9653 10.7605C4.95951 10.4536 6.44668 10.1007 8.04663 10.1007C9.64658 10.1007 11.1337 10.4536 12.1279 10.7605C13.1634 11.0801 13.8294 11.9867 13.9859 12.9925L14.0859 13.6357C14.1372 13.9656 13.9114 14.2747 13.5814 14.3261C13.2514 14.3774 12.9423 14.1515 12.891 13.8215L12.7909 13.1783C12.6952 12.5627 12.3038 12.0804 11.7713 11.916C10.8409 11.6288 9.48137 11.31 8.04663 11.31Z" fill="currentColor"/>
              <path fill-rule="evenodd" clip-rule="evenodd" d="M8.04663 2.54264C6.71088 2.54264 5.62804 3.62548 5.62804 4.96123C5.62804 6.29698 6.71088 7.37982 8.04663 7.37982C9.38238 7.37982 10.4652 6.29698 10.4652 4.96123C10.4652 3.62548 9.38238 2.54264 8.04663 2.54264ZM4.41874 4.96123C4.41874 2.9576 6.043 1.33334 8.04663 1.33334C10.0503 1.33334 11.6745 2.9576 11.6745 4.96123C11.6745 6.96485 10.0503 8.58911 8.04663 8.58911C6.043 8.58911 4.41874 6.96485 4.41874 4.96123Z" fill="currentColor"/>
            </svg>
          )
        },
        {
          id: 'approval',
          label: 'Approval',
          icon: (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M16 4H18C19.1046 4 20 4.89543 20 6V18C20 19.1046 19.1046 20 18 20H6C4.89543 20 4 19.1046 4 18V6C4 4.89543 4.89543 4 6 4H8M16 4V2M16 4V6M8 4V2M8 4V6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
              <path d="M9 14L11 16L15 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
          )
        },
        {
          id: 'enrichment',
          label: 'Enrichment',
          icon: (
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M5.90778 7.14055C6.46778 8.2411 7.37 9.13944 8.47055 9.70333L9.32611 8.84777C9.43111 8.74277 9.58667 8.70777 9.72278 8.75444C10.1583 8.89833 10.6289 8.9761 11.1111 8.9761C11.325 8.9761 11.5 9.1511 11.5 9.36499V10.7222C11.5 10.9361 11.325 11.1111 11.1111 11.1111C7.45944 11.1111 4.5 8.15166 4.5 4.49999C4.5 4.2861 4.675 4.1111 4.88889 4.1111H6.25C6.46389 4.1111 6.63889 4.2861 6.63889 4.49999C6.63889 4.9861 6.71667 5.45277 6.86055 5.88833C6.90333 6.02444 6.87222 6.1761 6.76333 6.28499L5.90778 7.14055Z" fill="currentColor"/>
              <path d="M2.10256 8.00003C2.10256 6.44409 2.70769 4.95189 3.78482 3.85167C4.86195 2.75146 6.32286 2.13337 7.84615 2.13337C8.70047 2.13149 9.54402 2.32812 10.313 2.70837C11.0819 3.08863 11.7561 3.64256 12.2845 4.32823L11.0784 4.32457C10.9841 4.32433 10.8907 4.34306 10.8035 4.37969C10.7163 4.41632 10.637 4.47013 10.5702 4.53806C10.5033 4.60598 10.4502 4.68669 10.414 4.77557C10.3777 4.86445 10.3589 4.95976 10.3586 5.05607C10.3584 5.15237 10.3767 5.24778 10.4126 5.33684C10.4484 5.4259 10.5011 5.50688 10.5676 5.57515C10.6341 5.64341 10.7131 5.69763 10.8002 5.73471C10.8872 5.77178 10.9805 5.79099 11.0748 5.79123L13.5467 5.79856C13.5744 5.80022 13.6022 5.80022 13.6299 5.79856L13.9466 5.80003C14.041 5.80032 14.1346 5.78157 14.222 5.74484C14.3093 5.70812 14.3887 5.65415 14.4556 5.58602C14.5225 5.5179 14.5756 5.43696 14.6118 5.34784C14.648 5.25873 14.6667 5.16319 14.6667 5.0667V2.13337C14.6667 1.93888 14.591 1.75235 14.4564 1.61482C14.3217 1.4773 14.1391 1.40004 13.9487 1.40004C13.7583 1.40004 13.5757 1.4773 13.4411 1.61482C13.3064 1.75235 13.2308 1.93888 13.2308 2.13337V3.1967C12.5665 2.40142 11.7409 1.76322 10.8111 1.32635C9.88129 0.889479 8.8696 0.664396 7.84615 0.666705C3.88092 0.666705 0.666664 3.94983 0.666664 8.00003C0.666664 12.0502 3.88092 15.3334 7.84615 15.3334C10.672 15.3334 13.0613 13.6672 14.233 11.2597C14.275 11.1734 14.2999 11.0795 14.3063 10.9834C14.3128 10.8873 14.3006 10.7908 14.2705 10.6995C14.2405 10.6082 14.1931 10.5238 14.1311 10.4512C14.0691 10.3786 13.9937 10.3191 13.9092 10.2763C13.8248 10.2334 13.7328 10.208 13.6387 10.2014C13.5446 10.1949 13.4502 10.2073 13.3608 10.238C13.2714 10.2687 13.1888 10.3171 13.1177 10.3804C13.0466 10.4437 12.9884 10.5207 12.9465 10.607C12.0031 12.546 10.0941 13.8667 7.84615 13.8667C6.32286 13.8667 4.86195 13.2486 3.78482 12.1484C2.70769 11.0482 2.10256 9.55596 2.10256 8.00003Z" fill="currentColor"/>
            </svg>
          )
        }
      ]
    },
    {
      title: 'Engage',
      items: [
        {
          id: 'sequences',
          label: 'Sequences',
          icon: (
            <svg width="20" height="20" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fillRule="evenodd" clipRule="evenodd" d="M1.46192 4.38525C0.907921 2.72392 2.60659 1.20325 4.19725 1.93725L13.3986 6.18392C14.9479 6.89925 14.9479 9.10058 13.3986 9.81592L4.19725 14.0626C2.60659 14.7966 0.907921 13.2759 1.46192 11.6146L2.45525 8.63258C2.59219 8.22192 2.59219 7.77791 2.45525 7.36725L1.46192 4.38525V4.38525ZM3.63859 3.14792L12.8399 7.39458C12.9556 7.44794 13.0535 7.53331 13.1221 7.64059C13.1908 7.74786 13.2273 7.87256 13.2273 7.99992C13.2273 8.12728 13.1908 8.25197 13.1221 8.35925C13.0535 8.46652 12.9556 8.55189 12.8399 8.60525L3.63859 12.8519C3.10859 13.0966 2.54192 12.5899 2.72659 12.0359L3.72059 9.05392C3.76325 8.92658 3.79792 8.79725 3.82459 8.66658H9.33325C9.51007 8.66658 9.67963 8.59634 9.80466 8.47132C9.92968 8.3463 9.99992 8.17673 9.99992 7.99992C9.99992 7.82311 9.92968 7.65354 9.80466 7.52851C9.67963 7.40349 9.51007 7.33325 9.33325 7.33325H3.82459C3.79773 7.20217 3.763 7.07282 3.72059 6.94592L2.72725 3.96392C2.54192 3.40992 3.10859 2.90325 3.63859 3.14792V3.14792Z" fill="currentColor"/>
            </svg>
          )
        },
        {
          id: 'activity',
          label: 'Activity',
          icon: (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"></path>
              <path d="M2 17L12 22L22 17" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"></path>
              <path d="M2 12L12 17L22 12" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"></path>
            </svg>
          ),
          hasChevron: true,
          isDropdown: true,
          subItems: [
            {
              id: 'tasks',
              label: 'Tasks',
              icon: (
                <svg width="20" height="20" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path fillRule="evenodd" clipRule="evenodd" d="M11.3333 3.33333H12.6667C13.402 3.33333 14 3.932 14 4.66667V14C14 14.7353 13.402 15.3333 12.6667 15.3333H3.33333C2.598 15.3333 2 14.7353 2 14V4.66667C2 3.932 2.598 3.33333 3.33333 3.33333H4.66667V2H5.428C5.726 0.854 6.76133 0 8 0C9.23867 0 10.274 0.854 10.572 2H11.3333ZM3.33333 13.3333V4.66667H12.6667V13.3333H3.33333ZM4.66667 2H11.3333V3.33333H4.66667V2ZM8 1.33333C7.26362 1.33333 6.66667 1.93028 6.66667 2.66667C6.66667 3.40305 7.26362 4 8 4C8.73638 4 9.33333 3.40305 9.33333 2.66667C9.33333 1.93028 8.73638 1.33333 8 1.33333Z" fill="currentColor"/>
                </svg>
              )
            },
            {
              id: 'email-outbox',
              label: 'Email outbox',
              icon: (
                <svg width="20" height="20" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M2.66667 2.66667C2.66667 1.93028 3.26362 1.33333 4 1.33333H12C12.7364 1.33333 13.3333 1.93028 13.3333 2.66667V13.3333C13.3333 14.0697 12.7364 14.6667 12 14.6667H4C3.26362 14.6667 2.66667 14.0697 2.66667 13.3333V2.66667Z" stroke="currentColor" strokeWidth="1.5"/>
                  <path d="M2.66667 2.66667L8 8L13.3333 2.66667" stroke="currentColor" strokeWidth="1.5"/>
                </svg>
              )
            },
            {
              id: 'templates',
              label: 'Templates',
              icon: (
                <svg width="20" height="20" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M2.66667 2.66667C2.66667 1.93028 3.26362 1.33333 4 1.33333H12C12.7364 1.33333 13.3333 1.93028 13.3333 2.66667V13.3333C13.3333 14.0697 12.7364 14.6667 12 14.6667H4C3.26362 14.6667 2.66667 14.0697 2.66667 13.3333V2.66667Z" stroke="currentColor" strokeWidth="1.5"/>
                  <path d="M6 5.33333H10" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round"/>
                  <path d="M6 8H10" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round"/>
                  <path d="M6 10.6667H8.66667" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round"/>
                </svg>
              )
            },
            {
              id: 'activity-sub',
              label: 'Activity',
              icon: (
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M13.9992 6.15716C14.3673 6.15712 14.6657 5.85875 14.6658 5.49066L14.6663 3.33568C14.6664 2.74166 13.9482 2.44408 13.5282 2.86411L13.1038 3.28849C12.9949 3.39742 12.8183 3.39742 12.7094 3.28849C11.4507 2.02985 9.77722 1.33667 7.99722 1.33667C4.32271 1.33664 1.33334 4.32607 1.33334 8.00052C1.33334 11.675 4.32271 14.6644 7.99722 14.6644C11.4545 14.6644 14.3052 12.018 14.6302 8.64466C14.6644 8.29014 14.3723 8.00052 14.0162 8.00052C13.66 8.00052 13.3753 8.2906 13.3329 8.64424C13.0139 11.3052 10.7427 13.3746 7.99719 13.3746C5.03391 13.3746 2.62313 10.9638 2.62313 8.00052C2.62313 5.03724 5.03394 2.62644 7.99722 2.62644C9.43274 2.62644 10.7823 3.18542 11.7973 4.20047C11.8596 4.2627 11.8863 4.34702 11.8774 4.42819C11.8707 4.48911 11.844 4.54825 11.7973 4.59495L11.373 5.01935C10.9529 5.43935 11.2505 6.15749 11.8444 6.15742L13.9992 6.15716Z" fill="#161616"/>
                  <path d="M8.66389 8.00001C8.46476 8.00001 8.00008 7.99998 8.00008 7.99998C8.00008 7.99998 7.99723 7.5024 7.99723 7.33334V6.28029C7.99723 5.92413 7.7085 5.6354 7.35233 5.6354C6.99617 5.6354 6.70744 5.92413 6.70744 6.28029V8.62313C6.70744 8.99132 7.00591 9.2898 7.3741 9.2898H9.71691C10.0731 9.2898 10.3618 9.00107 10.3618 8.6449C10.3618 8.28874 10.0731 8.00001 9.71691 8.00001H8.66389Z" fill="#161616"/>
                </svg>
              )
            }
          ]
        }
      ]
    },
    {
      title: 'Automation',
      items: [
        {
          id: 'automations',
          label: 'Workflows',
          icon: (
            <svg width="20" height="20" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fillRule="evenodd" clipRule="evenodd" d="M10.2684 2.8655C9.86539 2.8655 9.47884 3.02561 9.19384 3.31062C8.90883 3.59562 8.74872 3.98217 8.74872 4.38523V11.9839C8.74872 12.79 8.42849 13.5631 7.85848 14.1331C7.28848 14.7031 6.51538 15.0233 5.70927 15.0233C4.90315 15.0233 4.13006 14.7031 3.56005 14.1331C2.99004 13.5631 2.66981 12.79 2.66981 11.9839V7.42468C2.66981 7.22315 2.74987 7.02988 2.89237 6.88738C3.03487 6.74487 3.22815 6.66482 3.42968 6.66482C3.6312 6.66482 3.82448 6.74487 3.96698 6.88738C4.10948 7.02988 4.18954 7.22315 4.18954 7.42468V11.9839C4.18954 12.3869 4.34965 12.7735 4.63466 13.0585C4.91966 13.3435 5.30621 13.5036 5.70927 13.5036C6.11232 13.5036 6.49887 13.3435 6.78387 13.0585C7.06888 12.7735 7.22899 12.3869 7.22899 11.9839V4.38523C7.22899 3.98217 7.06888 3.59562 6.78387 3.31062C6.49887 3.02561 6.11232 2.8655 5.70927 2.8655Z" fill="currentColor"/>
              <path d="M4.08614 1.71053C4.01924 1.59574 3.92342 1.50049 3.80822 1.43429C3.69302 1.36809 3.56248 1.33325 3.42962 1.33325C3.29676 1.33325 3.16621 1.36809 3.05102 1.43429C2.93582 1.50049 2.83999 1.59574 2.7731 1.71053L1.4365 4.00304C1.3693 4.1185 1.33373 4.24963 1.33338 4.38322C1.33302 4.51681 1.36789 4.64813 1.43446 4.76394C1.50104 4.87976 1.59698 4.97598 1.71259 5.0429C1.82821 5.10982 1.95943 5.14507 2.09302 5.14511H4.76622C4.89992 5.14515 5.03126 5.10991 5.14699 5.04295C5.26272 4.976 5.35873 4.87969 5.42532 4.76375C5.49192 4.64782 5.52676 4.51637 5.5263 4.38267C5.52585 4.24897 5.49013 4.11776 5.42274 4.00228L4.08614 1.71053Z" fill="currentColor"/>
              <path d="M10.2684 12.7437C10.2684 12.1391 10.5086 11.5593 10.9361 11.1318C11.3636 10.7043 11.9435 10.4641 12.548 10.4641C13.1526 10.4641 13.7324 10.7043 14.1599 11.1318C14.5875 11.5593 14.8276 12.1391 14.8276 12.7437C14.8276 13.3483 14.5875 13.9281 14.1599 14.3556C13.7324 14.7831 13.1526 15.0233 12.548 15.0233C11.9435 15.0233 11.3636 14.7831 10.9361 14.3556C10.5086 13.9281 10.2684 13.3483 10.2684 12.7437Z" fill="currentColor"/>
            </svg>
          )
        },
        {
          id: 'campaigns',
          label: 'Campaigns',
          icon: (
            <svg width="20" height="20" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M7.99996 8.29956C7.86093 8.30044 7.72409 8.26785 7.60313 8.20504L1.07139 4.7802C0.949959 4.71768 0.848629 4.62698 0.77758 4.51721C0.70653 4.40744 0.668264 4.28247 0.666626 4.15486C0.666868 4.02602 0.704474 3.89954 0.775595 3.78839C0.846715 3.67723 0.948796 3.58539 1.07139 3.52225L7.60313 0.0974184C7.72378 0.0335985 7.86064 0 7.99996 0C8.13927 0 8.27613 0.0335985 8.39678 0.0974184L14.9285 3.52225C15.0511 3.58539 15.1532 3.67723 15.2243 3.78839C15.2954 3.89954 15.3331 4.02602 15.3333 4.15486C15.3317 4.28247 15.2934 4.40744 15.2223 4.51721C15.1513 4.62698 15.05 4.71768 14.9285 4.7802L8.39678 8.20504C8.27583 8.26785 8.13899 8.30044 7.99996 8.29956ZM3.06345 4.15486L7.99996 6.73621L12.9365 4.15486L7.99996 1.56624L3.06345 4.15486Z" fill="currentColor"/>
              <path d="M7.99996 16C7.86093 16.0009 7.72409 15.9683 7.60313 15.9055L1.07139 12.4806C0.948796 12.4175 0.846715 12.3256 0.775595 12.2145C0.704474 12.1033 0.666868 11.9769 0.666626 11.848V4.15486C0.666626 3.96201 0.750242 3.77706 0.899081 3.6407C1.04792 3.50433 1.24979 3.42772 1.46028 3.42772C1.67077 3.42772 1.87263 3.50433 2.02147 3.6407C2.17031 3.77706 2.25393 3.96201 2.25393 4.15486V11.4263L7.99996 14.4366L13.746 11.4263V4.15486C13.746 3.96201 13.8296 3.77706 13.9784 3.6407C14.1273 3.50433 14.3292 3.42772 14.5396 3.42772C14.7501 3.42772 14.952 3.50433 15.1008 3.6407C15.2497 3.77706 15.3333 3.96201 15.3333 4.15486V11.848C15.3331 11.9769 15.2954 12.1033 15.2243 12.2145C15.1532 12.3256 15.0511 12.4175 14.9285 12.4806L8.39678 15.9055C8.27583 15.9683 8.13899 16.0009 7.99996 16Z" fill="currentColor"/>
              <path d="M7.99996 16C7.78947 16 7.5876 15.9234 7.43876 15.787C7.28993 15.6506 7.20631 15.4657 7.20631 15.2728V7.57242C7.20631 7.37957 7.28993 7.19462 7.43876 7.05826C7.5876 6.92189 7.78947 6.84528 7.99996 6.84528C8.21045 6.84528 8.41232 6.92189 8.56115 7.05826C8.70999 7.19462 8.79361 7.37957 8.79361 7.57242V15.2728C8.79361 15.4657 8.70999 15.6506 8.56115 15.787C8.41232 15.9234 8.21045 16 7.99996 16Z" fill="currentColor"/>
            </svg>
          )
        }
      ]
    }
  ];

  // Alternative navigation data for when Settings is active (similar to Option 1)
  const settingsNavigationData: NavCategory[] = [
    {
      title: 'General',
      items: [
        {
          id: 'profile',
          label: 'Profile',
          icon: (
            <svg width="20" height="20" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M8 8C10.21 8 12 6.21 12 4C12 1.79 10.21 0 8 0C5.79 0 4 1.79 4 4C4 6.21 5.79 8 8 8ZM8 10C5.33 10 0 11.34 0 14V16H16V14C16 11.34 10.67 10 8 10Z" fill="currentColor"/>
            </svg>
          )
        },
        {
          id: 'preferences',
          label: 'Preferences',
          icon: (
            <svg width="20" height="20" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M8 4.5C9.38071 4.5 10.5 5.61929 10.5 7C10.5 8.38071 9.38071 9.5 8 9.5C6.61929 9.5 5.5 8.38071 5.5 7C5.5 5.61929 6.61929 4.5 8 4.5Z" fill="currentColor"/>
            </svg>
          )
        }
      ]
    },
    {
      title: 'Security',
      items: [
        {
          id: 'password',
          label: 'Password',
          icon: (
            <svg width="20" height="20" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 7H11V6C11 3.24 8.76 1 6 1C3.24 1 1 3.24 1 6V7H0V15C0 15.55 0.45 16 1 16H11C11.55 16 12 15.55 12 15V7ZM6 2C8.21 2 10 3.79 10 6V7H2V6C2 3.79 3.79 2 6 2Z" fill="currentColor"/>
            </svg>
          )
        },
        {
          id: 'two-factor',
          label: 'Two-Factor Auth',
          icon: (
            <svg width="20" height="20" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M8 1C4.13 1 1 4.13 1 8C1 11.87 4.13 15 8 15C11.87 15 15 11.87 15 8C15 4.13 11.87 1 8 1ZM8 13C5.24 13 3 10.76 3 8C3 5.24 5.24 3 8 3C10.76 3 13 5.24 13 8C13 10.76 10.76 13 8 13Z" fill="currentColor"/>
              <path d="M8 5C6.34 5 5 6.34 5 8C5 9.66 6.34 11 8 11C9.66 11 11 9.66 11 8C11 6.34 9.66 5 8 5Z" fill="currentColor"/>
            </svg>
          )
        }
      ]
    },
    {
      title: 'Notifications',
      items: [
        {
          id: 'email-notifications',
          label: 'Email Notifications',
          icon: (
            <svg width="20" height="20" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M14 2H2C1.45 2 1 2.45 1 3V13C1 13.55 1.45 14 2 14H14C14.55 14 15 13.55 15 13V3C15 2.45 14.55 2 14 2ZM14 4L8 8L2 4V3L8 7L14 3V4Z" fill="currentColor"/>
            </svg>
          )
        },
        {
          id: 'push-notifications',
          label: 'Push Notifications',
          icon: (
            <svg width="20" height="20" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M8 16C9.1 16 10 15.1 10 14H6C6 15.1 6.9 16 8 16ZM12 10V7C12 4.24 9.76 2 7 2C4.24 2 2 4.24 2 7V10L0 12V13H16V12L12 10Z" fill="currentColor"/>
            </svg>
          )
        }
      ]
    }
  ];

  const renderNavItem = (item: NavItem, level: number = 0) => (
    <div key={item.id}>
      <div
        className={`nav-item ${level > 0 ? 'sub-item' : ''} ${item.isDropdown ? 'has-submenu' : ''}`}
        data-label={item.label}
        onClick={() => {
          if (item.isDropdown) {
            toggleSection(item.id);
          } else {
            console.log(`Navigated to: ${item.id}`);
          }
        }}
        style={{ paddingLeft: `${20 + level * 20}px` }}
      >
        <span className="nav-icon">{item.icon}</span>
        <span className="nav-label">{item.label}</span>
        {item.hasChevron && (
          <span className="item-chevron">
            {expandedSections.has(item.id) ? (
              // Down arrow when expanded
              <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fillRule="evenodd" clipRule="evenodd" d="M11.7552 5.41011C11.983 5.63792 11.983 6.00726 11.7552 6.23507L7.69332 10.2969C7.58392 10.4063 7.43555 10.4678 7.28084 10.4678C7.12613 10.4678 6.97776 10.4063 6.86836 10.2969L2.80651 6.23507C2.57871 6.00726 2.57871 5.63792 2.80651 5.41011C3.03432 5.18231 3.40367 5.18231 3.63147 5.41011L7.28084 9.05948L10.9302 5.41011C11.158 5.18231 11.5274 5.18231 11.7552 5.41011Z" fill="currentColor"/>
              </svg>
            ) : (
              // Right arrow when not expanded
              <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fillRule="evenodd" clipRule="evenodd" d="M4.83753 2.50418C5.06533 2.27638 5.43468 2.27638 5.66248 2.50418L9.72434 6.56603C9.83373 6.67543 9.89519 6.8238 9.89519 6.97851C9.89519 7.13322 9.83373 7.28159 9.72434 7.39099L5.66248 11.4528C5.43468 11.6806 5.06533 11.6806 4.83753 11.4528C4.60972 11.225 4.60972 10.8557 4.83753 10.6279L8.4869 6.97851L4.83753 3.32914C4.60972 3.10133 4.60972 2.73199 4.83753 2.50418Z" fill="currentColor"/>
              </svg>
            )}
          </span>
        )}
        
        {/* Popover submenu for collapsed state */}
        {isSidebarCollapsed && item.isDropdown && (
          <div className="submenu-popover">
            {item.subItems?.map((subItem) => (
              <div key={subItem.id} className="submenu-item">
                <span className="submenu-icon">{subItem.icon}</span>
                <span>{subItem.label}</span>
              </div>
            ))}
          </div>
        )}
      </div>
      
      {item.subItems && expandedSections.has(item.id) && (
        <div className="sub-items">
          {item.subItems.map((subItem) => renderNavItem(subItem, level + 1))}
        </div>
      )}
    </div>
  );

  return (
    <nav className={`side-nav expanded-nav ${isSidebarCollapsed ? 'collapsed' : ''}`}>
      {/* Top border */}
      <div className="nav-border top"></div>
      
      {/* Header */}
      <div className="nav-header">
        <div className="nooks-brand">
          <div className="nooks-icon">N</div>
          <div className="nooks-text-container">
            <span className="nooks-text">{selectedWorkspace}</span>
            <span 
              className="workspace-chevron"
              onClick={() => setIsNooksDropdownOpen(!isNooksDropdownOpen)}
            >
              {isNooksDropdownOpen ? (
                // Right arrow when dropdown is open
                <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path fillRule="evenodd" clipRule="evenodd" d="M4.83753 2.50418C5.06533 2.27638 5.43468 2.27638 5.66248 2.50418L9.72434 6.56603C9.83373 6.67543 9.89519 6.8238 9.89519 6.97851C9.89519 7.13322 9.83373 7.28159 9.72434 7.39099L5.66248 11.4528C5.43468 11.6806 5.06533 11.6806 4.83753 11.4528C4.60972 11.225 4.60972 10.8557 4.83753 10.6279L8.4869 6.97851L4.83753 3.32914C4.60972 3.10133 4.60972 2.73199 4.83753 2.50418Z" fill="currentColor"/>
                </svg>
              ) : (
                // Down arrow when dropdown is closed (default state)
                <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path fillRule="evenodd" clipRule="evenodd" d="M11.7552 5.41011C11.983 5.63792 11.983 6.00726 11.7552 6.23507L7.69332 10.2969C7.58392 10.4063 7.43555 10.4678 7.28084 10.4678C7.12613 10.4678 6.97776 10.4063 6.86836 10.2969L2.80651 6.23507C2.57871 6.00726 2.57871 5.63792 2.80651 5.41011C3.03432 5.18231 3.40367 5.18231 3.63147 5.41011L7.28084 9.05948L10.9302 5.41011C11.158 5.18231 11.5274 5.18231 11.7552 5.41011Z" fill="currentColor"/>
                </svg>
              )}
            </span>
          </div>
          
          {/* Collapse/Expand Toggle Button */}
          <button 
            className="sidebar-toggle"
            onClick={() => setIsSidebarCollapsed(!isSidebarCollapsed)}
            title={isSidebarCollapsed ? "Expand sidebar" : "Collapse sidebar"}
          >
            <svg width="20" height="18" viewBox="0 0 20 18" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fillRule="evenodd" clipRule="evenodd" d="M4.416 1.767C3.71318 1.767 3.03914 2.0462 2.54217 2.54317C2.0452 3.04014 1.766 3.71418 1.766 4.417V13.249C1.766 13.9518 2.0452 14.6259 2.54217 15.1228C3.03914 15.6198 3.71318 15.899 4.416 15.899H5.877V1.767H4.416ZM4.416 0C3.2448 0 2.12158 0.465256 1.29342 1.29342C0.465256 2.12158 1.13235e-07 3.2448 1.13235e-07 4.416V13.249C-0.000131228 13.829 0.113995 14.4033 0.335861 14.9392C0.557727 15.4751 0.882986 15.9621 1.29306 16.3722C1.70314 16.7824 2.19 17.1078 2.72584 17.3298C3.26168 17.5517 3.836 17.666 4.416 17.666H15.584C16.1641 17.666 16.7385 17.5517 17.2744 17.3297C17.8103 17.1076 18.2972 16.7822 18.7073 16.3719C19.1174 15.9616 19.4426 15.4745 19.6644 14.9385C19.8862 14.4025 20.0003 13.8281 20 13.248V4.416C20 3.2448 19.5347 2.12158 18.7066 1.29342C17.8784 0.465256 16.7552 0 15.584 0H4.416ZM7.644 1.767V15.899H15.584C16.2868 15.899 16.9609 15.6198 17.4578 15.1228C17.9548 14.6259 18.234 13.9518 18.234 13.249V4.416C18.234 3.71318 17.9548 3.03914 17.4578 2.54217C16.9609 2.0452 16.2868 1.766 15.584 1.766H7.644V1.767Z" fill="currentColor"/>
            </svg>
          </button>
        </div>
        
        {/* Workspace Dropdown */}
        {isNooksDropdownOpen && (
          <div className="workspace-dropdown">
            {workspaces.map((workspace) => (
              <div
                key={workspace}
                className="workspace-option"
                onClick={() => {
                  setSelectedWorkspace(workspace);
                  setIsNooksDropdownOpen(false);
                }}
              >
                {workspace}
              </div>
            ))}
          </div>
        )}
      </div>
      
      {/* Navigation Items */}
      <div className="nav-items">
        {isSettingsActive ? (
          // Show Settings navigation
          <>
            {/* Back button */}
            <div 
              className="back-link" 
              onClick={() => setIsSettingsActive(false)}
              style={{ paddingLeft: '20px', marginBottom: '16px', cursor: 'pointer' }}
            >
              <span className="back-icon">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path fillRule="evenodd" clipRule="evenodd" d="M11.1625 13.4958C10.9347 13.7236 10.5653 13.7236 10.3375 13.4958L6.27566 9.43397C6.16627 9.32457 6.10481 9.1762 6.10481 9.02149C6.10481 8.86678 6.16627 8.71841 6.27566 8.60901L10.3375 4.54716C10.5653 4.31936 10.9347 4.31936 11.1625 4.54716C11.3903 4.77497 11.3903 5.14431 11.1625 5.37212L7.5131 9.02149L11.1625 12.6709C11.3903 12.8987 11.3903 13.268 11.1625 13.4958Z" fill="currentColor"/>
                </svg>
              </span>
              <span className="back-text">Back</span>
            </div>
            
            {/* Settings navigation categories */}
            {settingsNavigationData.map((category) => (
              <div key={category.title} className="nav-category">
                <div className="category-title">{category.title}</div>
                {category.items.map((item) => renderNavItem(item))}
              </div>
            ))}
          </>
        ) : (
          // Show main navigation
          <>
            {/* Standalone Home item */}
            <div className="nav-item" style={{ paddingLeft: '20px', marginBottom: '8px' }}>
              <span className="nav-icon">{homeItem.icon}</span>
              <span className="nav-label">{homeItem.label}</span>
            </div>
            
            {/* Navigation categories */}
            {navigationData.map((category) => (
              <div key={category.title} className="nav-category">
                <div className="category-title">{category.title}</div>
                {category.items.map((item) => renderNavItem(item))}
              </div>
            ))}
          </>
        )}
      </div>
      
      {/* Settings */}
      <div 
        className="nav-item nav-settings" 
        data-label="Settings" 
        style={{ paddingLeft: '20px' }}
        onClick={() => setIsSettingsActive(!isSettingsActive)}
      >
        <span className="nav-icon">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M6.42777 0.984497C7.13974 -0.202788 8.86037 -0.202837 9.5723 0.984497L10.043 1.77063C10.2317 2.08517 10.6042 2.23945 10.96 2.15051L11.8487 1.92786C13.1919 1.59143 14.4088 2.80823 14.0723 4.15149L13.8496 5.03918C13.7604 5.39525 13.9147 5.76842 14.2295 5.95715L15.0147 6.42786C16.2027 7.13973 16.2027 8.86052 15.0147 9.57239L14.2295 10.0431C13.9149 10.2318 13.7607 10.6042 13.8496 10.9601L14.0723 11.8488C14.4087 13.1919 13.1918 14.4088 11.8487 14.0724L10.96 13.8497C10.6041 13.7608 10.2317 13.915 10.043 14.2296L9.5723 15.0148C8.86043 16.2027 7.13964 16.2027 6.42777 15.0148L5.95707 14.2296C5.76834 13.9148 5.39517 13.7605 5.0391 13.8497L4.1514 14.0724C2.80815 14.4089 1.59136 13.192 1.92777 11.8488L2.15042 10.9601C2.23937 10.6042 2.08509 10.2318 1.77054 10.0431L0.984409 9.57239C-0.20292 8.86046 -0.20286 7.13984 0.984409 6.42786L1.77054 5.95715C2.08529 5.7684 2.23964 5.39521 2.15042 5.03918L1.92777 4.15149C1.59119 2.80816 2.80807 1.59129 4.1514 1.92786L5.0391 2.15051C5.39511 2.23973 5.76831 2.08537 5.95707 1.77063L6.42777 0.984497ZM8.71488 1.49915C8.3913 0.959159 7.60877 0.959161 7.28519 1.49915L6.81449 2.2843C6.3993 2.977 5.57932 3.31656 4.79593 3.12024L3.90824 2.89758C3.29777 2.74478 2.74468 3.29786 2.8975 3.90833L3.12015 4.79602C3.31647 5.57941 2.97692 6.39939 2.28421 6.81458L1.49906 7.28528C0.959071 7.60886 0.959073 8.39139 1.49906 8.71497L2.28421 9.18567C2.97676 9.60081 3.31627 10.42 3.12015 11.2032L2.8975 12.0919C2.74484 12.7023 3.29785 13.2554 3.90824 13.1027L4.79593 12.88C5.57938 12.6837 6.39933 13.0231 6.81449 13.7159L7.28519 14.5011C7.60879 15.041 8.39131 15.0411 8.71488 14.5011L9.18558 13.7159C9.6007 13.0233 10.4198 12.6839 11.2032 12.88L12.0918 13.1027C12.7021 13.2553 13.2552 12.7022 13.1026 12.0919L12.8799 11.2032C12.6838 10.4199 13.0232 9.60079 13.7159 9.18567L14.501 8.71497C15.041 8.3914 15.0409 7.60887 14.501 7.28528L13.7159 6.81458C13.0231 6.39941 12.6836 5.57946 12.8799 4.79602L13.1026 3.90833C13.2553 3.29793 12.7022 2.74492 12.0918 2.89758L11.2032 3.12024C10.4199 3.31635 9.60072 2.97684 9.18558 2.2843L8.71488 1.49915ZM8.00003 4.83313C9.7489 4.83318 11.167 6.25125 11.167 8.00012C11.167 9.74895 9.74886 11.1671 8.00003 11.1671C6.25117 11.1671 4.8331 9.74898 4.83304 8.00012C4.83304 6.25122 6.25113 4.83313 8.00003 4.83313ZM8.00003 5.83313C6.80342 5.83313 5.83304 6.8035 5.83304 8.00012C5.8331 9.19669 6.80345 10.1671 8.00003 10.1671C9.19658 10.1671 10.167 9.19666 10.167 8.00012C10.167 6.80353 9.19661 5.83318 8.00003 5.83313Z" fill="currentColor"/>
          </svg>
        </span>
        <span className="nav-label">Settings</span>
      </div>
      
      {/* Bottom border */}
      <div className="nav-border bottom"></div>
    </nav>
  );
};

export default Option5Nav;
